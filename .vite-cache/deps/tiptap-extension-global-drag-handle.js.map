{
  "version": 3,
  "sources": ["../../node_modules/tiptap-extension-global-drag-handle/src/clipboard-serializer.ts", "../../node_modules/tiptap-extension-global-drag-handle/src/index.ts"],
  "sourcesContent": ["import { Slice } from '@tiptap/pm/model';\r\nimport { EditorView } from '@tiptap/pm/view';\r\nimport * as pmView from '@tiptap/pm/view';\r\n\r\nfunction getPmView() {\r\n  try {\r\n      return pmView;\r\n  } catch (error) {\r\n      return null;\r\n  }\r\n}\r\n\r\n\r\nexport function serializeForClipboard(view: EditorView, slice: Slice) {\r\n  // Newer Tiptap/ProseMirror\r\n  // @ts-ignore\r\n  if (view && typeof view.serializeForClipboard === 'function') {\r\n    return view.serializeForClipboard(slice);\r\n  }\r\n\r\n  // Older version fallback\r\n  const proseMirrorView = getPmView();\r\n  // @ts-ignore\r\n  if (proseMirrorView && typeof proseMirrorView?.__serializeForClipboard === 'function') {\r\n    // @ts-ignore\r\n    return proseMirrorView.__serializeForClipboard(view, slice);\r\n  }\r\n\r\n  throw new Error('No supported clipboard serialization method found.');\r\n}\r\n", "import { Extension } from '@tiptap/core';\r\nimport {\r\n  NodeSelection,\r\n  Plugin,\r\n  PluginKey,\r\n  TextSelection,\r\n} from '@tiptap/pm/state';\r\nimport { Fragment, Slice, Node } from '@tiptap/pm/model';\r\nimport { EditorView } from '@tiptap/pm/view';\r\nimport { serializeForClipboard } from './clipboard-serializer';\r\n\r\nexport interface GlobalDragHandleOptions {\r\n  /**\r\n   * The width of the drag handle\r\n   */\r\n  dragHandleWidth: number;\r\n\r\n  /**\r\n   * The treshold for scrolling\r\n   */\r\n  scrollTreshold: number;\r\n\r\n  /*\r\n   * The css selector to query for the drag handle. (eg: '.custom-handle').\r\n   * If handle element is found, that element will be used as drag handle. If not, a default handle will be created\r\n   */\r\n  dragHandleSelector?: string;\r\n\r\n  /**\r\n   * Tags to be excluded for drag handle\r\n   */\r\n  excludedTags: string[];\r\n\r\n  /**\r\n   * Custom nodes to be included for drag handle\r\n   */\r\n  customNodes: string[];\r\n}\r\nfunction absoluteRect(node: Element) {\r\n  const data = node.getBoundingClientRect();\r\n  const modal = node.closest('[role=\"dialog\"]');\r\n\r\n  if (modal && window.getComputedStyle(modal).transform !== 'none') {\r\n    const modalRect = modal.getBoundingClientRect();\r\n\r\n    return {\r\n      top: data.top - modalRect.top,\r\n      left: data.left - modalRect.left,\r\n      width: data.width,\r\n    };\r\n  }\r\n  return {\r\n    top: data.top,\r\n    left: data.left,\r\n    width: data.width,\r\n  };\r\n}\r\n\r\nfunction nodeDOMAtCoords(\r\n  coords: { x: number; y: number },\r\n  options: GlobalDragHandleOptions,\r\n) {\r\n  const selectors = [\r\n    'li',\r\n    'p:not(:first-child)',\r\n    'pre',\r\n    'blockquote',\r\n    'h1',\r\n    'h2',\r\n    'h3',\r\n    'h4',\r\n    'h5',\r\n    'h6',\r\n    ...options.customNodes.map((node) => `[data-type=${node}]`),\r\n  ].join(', ');\r\n  return document\r\n    .elementsFromPoint(coords.x, coords.y)\r\n    .find(\r\n      (elem: Element) =>\r\n        elem.parentElement?.matches?.('.ProseMirror') ||\r\n        elem.matches(selectors),\r\n    );\r\n}\r\nfunction nodePosAtDOM(\r\n  node: Element,\r\n  view: EditorView,\r\n  options: GlobalDragHandleOptions,\r\n) {\r\n  const boundingRect = node.getBoundingClientRect();\r\n\r\n  return view.posAtCoords({\r\n    left: boundingRect.left + 50 + options.dragHandleWidth,\r\n    top: boundingRect.top + 1,\r\n  })?.inside;\r\n}\r\n\r\nfunction calcNodePos(pos: number, view: EditorView) {\r\n  const $pos = view.state.doc.resolve(pos);\r\n  if ($pos.depth > 1) return $pos.before($pos.depth);\r\n  return pos;\r\n}\r\n\r\nexport function DragHandlePlugin(\r\n  options: GlobalDragHandleOptions & { pluginKey: string },\r\n) {\r\n  let listType = '';\r\n  function handleDragStart(event: DragEvent, view: EditorView) {\r\n    view.focus();\r\n\r\n    if (!event.dataTransfer) return;\r\n\r\n    const node = nodeDOMAtCoords(\r\n      {\r\n        x: event.clientX + 50 + options.dragHandleWidth,\r\n        y: event.clientY,\r\n      },\r\n      options,\r\n    );\r\n\r\n    if (!(node instanceof Element)) return;\r\n\r\n    let draggedNodePos = nodePosAtDOM(node, view, options);\r\n    if (draggedNodePos == null || draggedNodePos < 0) return;\r\n    draggedNodePos = calcNodePos(draggedNodePos, view);\r\n\r\n    const { from, to } = view.state.selection;\r\n    const diff = from - to;\r\n\r\n    const fromSelectionPos = calcNodePos(from, view);\r\n    let differentNodeSelected = false;\r\n\r\n    const nodePos = view.state.doc.resolve(fromSelectionPos);\r\n\r\n    // Check if nodePos points to the top level node\r\n    if (nodePos.node().type.name === 'doc') differentNodeSelected = true;\r\n    else {\r\n      const nodeSelection = NodeSelection.create(\r\n        view.state.doc,\r\n        nodePos.before(),\r\n      );\r\n\r\n      // Check if the node where the drag event started is part of the current selection\r\n      differentNodeSelected = !(\r\n        draggedNodePos + 1 >= nodeSelection.$from.pos &&\r\n        draggedNodePos <= nodeSelection.$to.pos\r\n      );\r\n    }\r\n    let selection = view.state.selection;\r\n    if (\r\n      !differentNodeSelected &&\r\n      diff !== 0 &&\r\n      !(view.state.selection instanceof NodeSelection)\r\n    ) {\r\n      const endSelection = NodeSelection.create(view.state.doc, to - 1);\r\n      selection = TextSelection.create(\r\n        view.state.doc,\r\n        draggedNodePos,\r\n        endSelection.$to.pos,\r\n      );\r\n    } else {\r\n      selection = NodeSelection.create(view.state.doc, draggedNodePos);\r\n\r\n      // if inline node is selected, e.g mention -> go to the parent node to select the whole node\r\n      // if table row is selected, go to the parent node to select the whole node\r\n      if (\r\n        (selection as NodeSelection).node.type.isInline ||\r\n        (selection as NodeSelection).node.type.name === 'tableRow'\r\n      ) {\r\n        let $pos = view.state.doc.resolve(selection.from);\r\n        selection = NodeSelection.create(view.state.doc, $pos.before());\r\n      }\r\n    }\r\n    view.dispatch(view.state.tr.setSelection(selection));\r\n\r\n    // If the selected node is a list item, we need to save the type of the wrapping list e.g. OL or UL\r\n    if (\r\n      view.state.selection instanceof NodeSelection &&\r\n      view.state.selection.node.type.name === 'listItem'\r\n    ) {\r\n      listType = node.parentElement!.tagName;\r\n    }\r\n\r\n    const slice = view.state.selection.content();\r\n    const { dom, text } = serializeForClipboard(view, slice);\r\n\r\n    event.dataTransfer.clearData();\r\n    event.dataTransfer.setData('text/html', dom.innerHTML);\r\n    event.dataTransfer.setData('text/plain', text);\r\n    event.dataTransfer.effectAllowed = 'copyMove';\r\n\r\n    event.dataTransfer.setDragImage(node, 0, 0);\r\n\r\n    view.dragging = { slice, move: event.ctrlKey };\r\n  }\r\n\r\n  let dragHandleElement: HTMLElement | null = null;\r\n\r\n  function hideDragHandle() {\r\n    if (dragHandleElement) {\r\n      dragHandleElement.classList.add('hide');\r\n    }\r\n  }\r\n\r\n  function showDragHandle() {\r\n    if (dragHandleElement) {\r\n      dragHandleElement.classList.remove('hide');\r\n    }\r\n  }\r\n\r\n  function hideHandleOnEditorOut(event: MouseEvent) {\r\n    if (event.target instanceof Element) {\r\n      // Check if the relatedTarget class is still inside the editor\r\n      const relatedTarget = event.relatedTarget as HTMLElement;\r\n      const isInsideEditor =\r\n        relatedTarget?.classList.contains('tiptap') ||\r\n        relatedTarget?.classList.contains('drag-handle');\r\n\r\n      if (isInsideEditor) return;\r\n    }\r\n    hideDragHandle();\r\n  }\r\n\r\n  return new Plugin({\r\n    key: new PluginKey(options.pluginKey),\r\n    view: (view) => {\r\n      const handleBySelector = options.dragHandleSelector\r\n        ? document.querySelector<HTMLElement>(options.dragHandleSelector)\r\n        : null;\r\n      dragHandleElement = handleBySelector ?? document.createElement('div');\r\n      dragHandleElement.draggable = true;\r\n      dragHandleElement.dataset.dragHandle = '';\r\n      dragHandleElement.classList.add('drag-handle');\r\n\r\n      function onDragHandleDragStart(e: DragEvent) {\r\n        handleDragStart(e, view);\r\n      }\r\n\r\n      dragHandleElement.addEventListener('dragstart', onDragHandleDragStart);\r\n\r\n      function onDragHandleDrag(e: DragEvent) {\r\n        hideDragHandle();\r\n        let scrollY = window.scrollY;\r\n        if (e.clientY < options.scrollTreshold) {\r\n          window.scrollTo({ top: scrollY - 30, behavior: 'smooth' });\r\n        } else if (window.innerHeight - e.clientY < options.scrollTreshold) {\r\n          window.scrollTo({ top: scrollY + 30, behavior: 'smooth' });\r\n        }\r\n      }\r\n\r\n      dragHandleElement.addEventListener('drag', onDragHandleDrag);\r\n\r\n      hideDragHandle();\r\n\r\n      if (!handleBySelector) {\r\n        view?.dom?.parentElement?.appendChild(dragHandleElement);\r\n      }\r\n      view?.dom?.parentElement?.addEventListener(\r\n        'mouseout',\r\n        hideHandleOnEditorOut,\r\n      );\r\n\r\n      return {\r\n        destroy: () => {\r\n          if (!handleBySelector) {\r\n            dragHandleElement?.remove?.();\r\n          }\r\n          dragHandleElement?.removeEventListener('drag', onDragHandleDrag);\r\n          dragHandleElement?.removeEventListener(\r\n            'dragstart',\r\n            onDragHandleDragStart,\r\n          );\r\n          dragHandleElement = null;\r\n          view?.dom?.parentElement?.removeEventListener(\r\n            'mouseout',\r\n            hideHandleOnEditorOut,\r\n          );\r\n        },\r\n      };\r\n    },\r\n    props: {\r\n      handleDOMEvents: {\r\n        mousemove: (view, event) => {\r\n          if (!view.editable) {\r\n            return;\r\n          }\r\n\r\n          const node = nodeDOMAtCoords(\r\n            {\r\n              x: event.clientX + 50 + options.dragHandleWidth,\r\n              y: event.clientY,\r\n            },\r\n            options,\r\n          );\r\n\r\n          const notDragging = node?.closest('.not-draggable');\r\n          const excludedTagList = options.excludedTags\r\n            .concat(['ol', 'ul'])\r\n            .join(', ');\r\n\r\n          if (\r\n            !(node instanceof Element) ||\r\n            node.matches(excludedTagList) ||\r\n            notDragging\r\n          ) {\r\n            hideDragHandle();\r\n            return;\r\n          }\r\n\r\n          const compStyle = window.getComputedStyle(node);\r\n          const parsedLineHeight = parseInt(compStyle.lineHeight, 10);\r\n          const lineHeight = isNaN(parsedLineHeight)\r\n            ? parseInt(compStyle.fontSize) * 1.2\r\n            : parsedLineHeight;\r\n          const paddingTop = parseInt(compStyle.paddingTop, 10);\r\n\r\n          const rect = absoluteRect(node);\r\n\r\n          rect.top += (lineHeight - 24) / 2;\r\n          rect.top += paddingTop;\r\n          // Li markers\r\n          if (node.matches('ul:not([data-type=taskList]) li, ol li')) {\r\n            rect.left -= options.dragHandleWidth;\r\n          }\r\n          rect.width = options.dragHandleWidth;\r\n\r\n          if (!dragHandleElement) return;\r\n\r\n          dragHandleElement.style.left = `${rect.left - rect.width}px`;\r\n          dragHandleElement.style.top = `${rect.top}px`;\r\n          showDragHandle();\r\n        },\r\n        keydown: () => {\r\n          hideDragHandle();\r\n        },\r\n        mousewheel: () => {\r\n          hideDragHandle();\r\n        },\r\n        // dragging class is used for CSS\r\n        dragstart: (view) => {\r\n          view.dom.classList.add('dragging');\r\n        },\r\n        drop: (view, event) => {\r\n          view.dom.classList.remove('dragging');\r\n          hideDragHandle();\r\n          let droppedNode: Node | null = null;\r\n          const dropPos = view.posAtCoords({\r\n            left: event.clientX,\r\n            top: event.clientY,\r\n          });\r\n\r\n          if (!dropPos) return;\r\n\r\n          if (view.state.selection instanceof NodeSelection) {\r\n            droppedNode = view.state.selection.node;\r\n          }\r\n          if (!droppedNode) return;\r\n\r\n          const resolvedPos = view.state.doc.resolve(dropPos.pos);\r\n\r\n          const isDroppedInsideList =\r\n            resolvedPos.parent.type.name === 'listItem';\r\n\r\n          // If the selected node is a list item and is not dropped inside a list, we need to wrap it inside <ol> tag otherwise ol list items will be transformed into ul list item when dropped\r\n          if (\r\n            view.state.selection instanceof NodeSelection &&\r\n            view.state.selection.node.type.name === 'listItem' &&\r\n            !isDroppedInsideList &&\r\n            listType == 'OL'\r\n          ) {\r\n            const newList = view.state.schema.nodes.orderedList?.createAndFill(\r\n              null,\r\n              droppedNode,\r\n            );\r\n            const slice = new Slice(Fragment.from(newList), 0, 0);\r\n            view.dragging = { slice, move: event.ctrlKey };\r\n          }\r\n        },\r\n        dragend: (view) => {\r\n          view.dom.classList.remove('dragging');\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nconst GlobalDragHandle = Extension.create({\r\n  name: 'globalDragHandle',\r\n\r\n  addOptions() {\r\n    return {\r\n      dragHandleWidth: 20,\r\n      scrollTreshold: 100,\r\n      excludedTags: [],\r\n      customNodes: [],\r\n    };\r\n  },\r\n\r\n  addProseMirrorPlugins() {\r\n    return [\r\n      DragHandlePlugin({\r\n        pluginKey: 'globalDragHandle',\r\n        dragHandleWidth: this.options.dragHandleWidth,\r\n        scrollTreshold: this.options.scrollTreshold,\r\n        dragHandleSelector: this.options.dragHandleSelector,\r\n        excludedTags: this.options.excludedTags,\r\n        customNodes: this.options.customNodes,\r\n      }),\r\n    ];\r\n  },\r\n});\r\n\r\nexport default GlobalDragHandle;\r\n"],
  "mappings": "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",
  "names": ["_a", "_c", "_b"]
}
