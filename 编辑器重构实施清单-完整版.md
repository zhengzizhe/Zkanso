# é¡µé¢ç¼–è¾‘å™¨é‡æ„å®æ–½æ¸…å• - å®Œæ•´ç‰ˆ

> **é¡¹ç›®èŒƒå›´**ï¼šTiptapEditor ç¼–è¾‘å™¨ç»„ä»¶å®Œæ•´é‡æ„  
> **è®¾è®¡ä¾æ®**ï¼šã€Šé£ä¹¦ä¸Craft UI-UXè®¾è®¡æ–¹æ¡ˆ.mdã€‹  
> **é‡æ„åŸåˆ™**ï¼šé›¶ä»£ç å¤ç”¨ï¼Œå®Œå…¨é‡å†™  
> **ç‰ˆæœ¬**ï¼šv2.0  
> **æ›´æ–°æ—¶é—´**ï¼š2025-11-29

---

## æ ¸å¿ƒè¯´æ˜

æœ¬æ¸…å•é’ˆå¯¹å½“å‰ `components/TiptapEditor.tsx` ç¼–è¾‘å™¨è¿›è¡Œå®Œæ•´é‡æ„ï¼ŒåŸºäºé£ä¹¦å’Œ Craft çš„è®¾è®¡è§„èŒƒï¼Œå®ç°å•†ç”¨çº§åˆ«çš„ç¼–è¾‘å™¨ä½“éªŒã€‚

### é‡æ„èŒƒå›´

1. âœ… **æµ®åŠ¨å·¥å…·æ ç³»ç»Ÿ**ï¼ˆæ›¿æ¢ç°æœ‰ BubbleMenuï¼‰
2. âœ… **æ–œæ å‘½ä»¤èœå•**ï¼ˆå…¨æ–°å®ç°ï¼‰
3. âœ… **åŒºå—ç¼–è¾‘ç³»ç»Ÿ**ï¼ˆæ›¿æ¢ç°æœ‰ DraggableBlockï¼‰
4. âœ… **Markdown å®æ—¶è½¬æ¢**
5. âœ… **é”®ç›˜å¿«æ·é”®ç³»ç»Ÿ**
6. âœ… **æ‹–æ‹½äº¤äº’ä¼˜åŒ–**
7. âœ… **å³é”®ä¸Šä¸‹æ–‡èœå•é‡æ„**
8. âœ… **æœç´¢ä¸æ›¿æ¢åŠŸèƒ½**
9. âœ… **å¯¼å‡ºåŠŸèƒ½å¢å¼º**
10. âœ… **WebUI è‡ªåŠ¨åŒ–æµ‹è¯•**

---

## ğŸ“‹ è¯¦ç»†ä»»åŠ¡æ¸…å•

### ç¬¬ä¸€é˜¶æ®µï¼šæµ®åŠ¨å·¥å…·æ ç³»ç»Ÿï¼ˆ5ä¸ªä»»åŠ¡ï¼‰

#### TASK-TOOLBAR-001ï¼šæµ®åŠ¨å·¥å…·æ æ ¸å¿ƒå®¹å™¨
**æ–‡ä»¶**ï¼š`components/Editor/FloatingToolbar/FloatingToolbar.tsx`

**åŠŸèƒ½éœ€æ±‚**ï¼š
- é€‰ä¸­æ–‡æœ¬åå»¶è¿Ÿ 150ms æ˜¾ç¤º
- ä½ç½®ï¼šé€‰ä¸­åŒºåŸŸä¸Šæ–¹å±…ä¸­
- å°ºå¯¸ï¼šé«˜åº¦ 44pxï¼ˆé£ä¹¦ï¼‰/ 40pxï¼ˆCraftï¼‰
- åœ†è§’ï¼š8px
- é˜´å½±ï¼š`0 4px 20px rgba(0, 0, 0, 0.08)`

**äº¤äº’ç»†èŠ‚**ï¼š
1. è®¡ç®—ä½ç½®ç®—æ³•ï¼š
   ```typescript
   // è·å–é€‰ä¸­åŒºåŸŸä¸­å¿ƒç‚¹
   const centerX = (start.left + end.left) / 2;
   // å·¥å…·æ å±…ä¸­
   let left = centerX - toolbarWidth / 2;
   // ä¸Šæ–¹æ˜¾ç¤ºï¼Œé—´è· 8px
   let top = start.top - toolbarHeight - 8;
   ```

2. è¾¹ç•Œæ£€æµ‹ï¼š
   - å·¦è¾¹ç•Œï¼š`left >= 16px`
   - å³è¾¹ç•Œï¼š`left + width <= viewportWidth - 16px`
   - ä¸Šè¾¹ç•Œä¸è¶³æ—¶ï¼Œæ˜¾ç¤ºåœ¨ä¸‹æ–¹

3. çŠ¶æ€ç®¡ç†ï¼š
   ```typescript
   interface Position {
     top: number;
     left: number;
     opacity: number;
   }
   ```

4. åŠ¨ç”»ï¼š
   - è¿›å…¥ï¼š`opacity 0â†’1, scale 0.95â†’1, y -5â†’0`
   - é€€å‡ºï¼šåå‘
   - æŒç»­æ—¶é—´ï¼š150ms
   - ç¼“åŠ¨ï¼š`cubic-bezier(0.4, 0, 0.2, 1)`

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] é€‰ä¸­æ–‡æœ¬è§¦å‘ï¼ˆå»¶è¿Ÿ 150msï¼‰
- [ ] ä½ç½®è®¡ç®—ç²¾ç¡®
- [ ] è¾¹ç•Œæ£€æµ‹å®Œå–„
- [ ] æ»šåŠ¨æ—¶ä½ç½®æ›´æ–°
- [ ] åŠ¨ç”»æµç•…

---

#### TASK-TOOLBAR-002ï¼šå·¥å…·æ æŒ‰é’®ç»„ä»¶
**æ–‡ä»¶**ï¼š`components/Editor/FloatingToolbar/ToolbarButton.tsx`

**å°ºå¯¸è§„æ ¼**ï¼š
- å®½é«˜ï¼š32px Ã— 32px
- åœ†è§’ï¼š4pxï¼ˆé£ä¹¦ï¼‰/ 6pxï¼ˆCraftï¼‰
- å›¾æ ‡å¤§å°ï¼š16px
- æè¾¹å®½åº¦ï¼š2.5px

**çŠ¶æ€æ ·å¼ï¼ˆé£ä¹¦ä¸»é¢˜ï¼‰**ï¼š
```typescript
const states = {
  default: {
    background: 'transparent',
    color: '#1F2329',
  },
  hover: {
    background: '#F2F3F5',
    color: '#1F2329',
  },
  pressed: {
    background: '#EBEDF0',
    color: '#1F2329',
    scale: 0.95,
  },
  active: {
    background: '#E6EDFF',
    color: '#3370FF',
  },
  disabled: {
    background: 'transparent',
    color: '#C9CDD4',
    opacity: 0.5,
  },
};
```

**Props æ¥å£**ï¼š
```typescript
interface ToolbarButtonProps {
  icon: React.ReactNode;
  label: string;  // Tooltip æ–‡å­—
  onClick: () => void;
  isActive?: boolean;
  disabled?: boolean;
  theme?: 'feishu' | 'craft';
  shortcut?: string;  // å¦‚ "âŒ˜B"
}
```

**æ— éšœç¢å±æ€§**ï¼š
- `aria-label={label}`
- `aria-pressed={isActive}`
- `title={label + (shortcut ? ` (${shortcut})` : '')}`

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å°ºå¯¸ç²¾ç¡® 32Ã—32px
- [ ] 5ç§çŠ¶æ€æ ·å¼æ­£ç¡®
- [ ] Tooltip æ˜¾ç¤ºå¿«æ·é”®
- [ ] æŒ‰å‹åŠ¨ç”»ï¼ˆscale: 0.95ï¼‰
- [ ] ARIA å±æ€§å®Œæ•´

---

#### TASK-TOOLBAR-003ï¼šæ–‡å­—æ ¼å¼å·¥å…·ç»„
**æ–‡ä»¶**ï¼š`components/Editor/FloatingToolbar/TextFormatGroup.tsx`

**å·¥å…·åˆ—è¡¨**ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼š
1. ç²—ä½“ï¼ˆBoldï¼‰- `âŒ˜B`
2. æ–œä½“ï¼ˆItalicï¼‰- `âŒ˜I`
3. ä¸‹åˆ’çº¿ï¼ˆUnderlineï¼‰- `âŒ˜U`
4. åˆ é™¤çº¿ï¼ˆStrikethroughï¼‰- `âŒ˜â‡§X`
5. è¡Œå†…ä»£ç ï¼ˆCodeï¼‰- `âŒ˜E`

**å®ç°é€»è¾‘**ï¼š
```typescript
// ç²—ä½“ç¤ºä¾‹
<ToolbarButton
  icon={<Bold size={16} strokeWidth={2.5} />}
  label="ç²—ä½“"
  onClick={() => editor.chain().focus().toggleBold().run()}
  isActive={editor.isActive('bold')}
  disabled={!editor.can().chain().focus().toggleBold().run()}
  shortcut="âŒ˜B"
/>
```

**é—´è·è§„èŒƒ**ï¼š
- æŒ‰é’®ä¹‹é—´ï¼š2px
- ä¸åˆ†éš”çº¿ï¼š4px

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] 5ä¸ªæŒ‰é’®åŠŸèƒ½æ­£å¸¸
- [ ] æ¿€æ´»çŠ¶æ€æ­£ç¡®
- [ ] ç¦ç”¨çŠ¶æ€å¤„ç†
- [ ] å¿«æ·é”®æ˜¾ç¤º

---

#### TASK-TOOLBAR-004ï¼šé¢œè‰²é€‰æ‹©å™¨
**æ–‡ä»¶**ï¼š`components/Editor/FloatingToolbar/ColorPicker.tsx`

**UI å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ–‡å­—é¢œè‰²] [èƒŒæ™¯é¢œè‰²]       â”‚  â† æ ‡ç­¾åˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¬œâ¬›ğŸ”´ğŸŸ ğŸŸ¡ğŸŸ¢ğŸ”µğŸŸ£âš«       â”‚  â† é¢„è®¾è‰²ï¼ˆ5åˆ—ç½‘æ ¼ï¼‰
â”‚ â¬œâ¬œâ¬œâ¬œâ¬œ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ # [______] [åº”ç”¨]           â”‚  â† è‡ªå®šä¹‰è‰²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å°ºå¯¸è§„æ ¼**ï¼š
- å®½åº¦ï¼š240px
- å†…è¾¹è·ï¼š12px
- è‰²å—ï¼š32Ã—32px
- è‰²å—é—´è·ï¼š8px

**é¢„è®¾é¢œè‰²**ï¼š
```typescript
// æ–‡å­—é¢œè‰²ï¼ˆ9ä¸ªï¼‰
const TEXT_COLORS = [
  { label: 'é»˜è®¤', value: '#1F2329' },
  { label: 'çº¢è‰²', value: '#F54A45' },
  { label: 'æ©™è‰²', value: '#FF8F1F' },
  { label: 'é»„è‰²', value: '#FFB02E' },
  { label: 'ç»¿è‰²', value: '#00B578' },
  { label: 'é’è‰²', value: '#14B8A6' },
  { label: 'è“è‰²', value: '#3370FF' },
  { label: 'ç´«è‰²', value: '#8B5CF6' },
  { label: 'ç°è‰²', value: '#646A73' },
];

// èƒŒæ™¯é¢œè‰²ï¼ˆ6ä¸ªï¼‰
const HIGHLIGHT_COLORS = [
  { label: 'æ— ', value: 'transparent' },
  { label: 'é»„è‰²', value: '#FEF08A' },
  { label: 'è“è‰²', value: '#BFDBFE' },
  { label: 'ç²‰è‰²', value: '#FECACA' },
  { label: 'ç»¿è‰²', value: '#BBF7D0' },
  { label: 'ç´«è‰²', value: '#E9D5FF' },
];
```

**äº¤äº’é€»è¾‘**ï¼š
1. ç‚¹å‡»è°ƒè‰²æ¿å›¾æ ‡æ‰“å¼€ä¸‹æ‹‰æ¡†
2. åˆ‡æ¢æ ‡ç­¾é¡µï¼ˆæ–‡å­—/èƒŒæ™¯ï¼‰
3. ç‚¹å‡»è‰²å—ç«‹å³åº”ç”¨
4. è‡ªå®šä¹‰è‰²è¾“å…¥ï¼ˆæ”¯æŒå¸¦/ä¸å¸¦ # å‰ç¼€ï¼‰
5. Enter é”®åº”ç”¨è‡ªå®šä¹‰è‰²
6. ç‚¹å‡»å¤–éƒ¨å…³é—­

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ä¸‹æ‹‰æ¡†ä½ç½®æ­£ç¡®ï¼ˆæŒ‰é’®ä¸‹æ–¹ï¼‰
- [ ] æ ‡ç­¾åˆ‡æ¢åŠ¨ç”»æµç•…
- [ ] é¢„è®¾è‰²åº”ç”¨æ­£å¸¸
- [ ] è‡ªå®šä¹‰è‰²è¾“å…¥éªŒè¯
- [ ] ç‚¹å‡»å¤–éƒ¨å…³é—­

---

#### TASK-TOOLBAR-005ï¼šé“¾æ¥ç¼–è¾‘å™¨
**æ–‡ä»¶**ï¼š`components/Editor/FloatingToolbar/LinkEditor.tsx`

**UI å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é“¾æ¥åœ°å€ *                       â”‚
â”‚ [https://example.com________]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ˜¾ç¤ºæ–‡å­—                         â”‚
â”‚ [ç‚¹å‡»è¿™é‡Œ___________________]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ”— æ’å…¥] [å–æ¶ˆ]        [ğŸ—‘åˆ é™¤] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å°ºå¯¸è§„æ ¼**ï¼š
- å®½åº¦ï¼š360px
- å†…è¾¹è·ï¼š16px
- è¾“å…¥æ¡†é«˜åº¦ï¼š32px
- æŒ‰é’®é«˜åº¦ï¼š32px

**åŠŸèƒ½é€»è¾‘**ï¼š
1. **æ–°å»ºé“¾æ¥**ï¼š
   - æ˜¾ç¤ºä¸¤ä¸ªè¾“å…¥æ¡†ï¼ˆURL + æ˜¾ç¤ºæ–‡å­—ï¼‰
   - URL è‡ªåŠ¨æ·»åŠ  `https://`
   - æ˜¾ç¤ºæ–‡å­—å¯é€‰

2. **ç¼–è¾‘é“¾æ¥**ï¼š
   - åªæ˜¾ç¤º URL è¾“å…¥æ¡†
   - é¢„å¡«å……å½“å‰é“¾æ¥
   - æ˜¾ç¤º"åˆ é™¤"æŒ‰é’®

3. **URL éªŒè¯**ï¼š
   ```typescript
   let finalUrl = url.trim();
   if (!finalUrl.startsWith('http://') && !finalUrl.startsWith('https://')) {
     finalUrl = `https://${finalUrl}`;
   }
   ```

4. **å¿«æ·é”®**ï¼š
   - `Enter` - æäº¤
   - `Esc` - å–æ¶ˆ

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] URL è¾“å…¥æ¡†è‡ªåŠ¨èšç„¦
- [ ] è‡ªåŠ¨æ·»åŠ åè®®
- [ ] æ–°å»º/ç¼–è¾‘æ¨¡å¼åˆ‡æ¢
- [ ] åˆ é™¤åŠŸèƒ½æ­£å¸¸
- [ ] å¿«æ·é”®å“åº”

---

### ç¬¬äºŒé˜¶æ®µï¼šæ–œæ å‘½ä»¤èœå•ï¼ˆ3ä¸ªä»»åŠ¡ï¼‰

#### TASK-SLASH-001ï¼šæ–œæ èœå•å®¹å™¨
**æ–‡ä»¶**ï¼š`components/Editor/SlashMenu/SlashMenu.tsx`

**è§¦å‘æœºåˆ¶**ï¼š
```typescript
// æ­£åˆ™åŒ¹é…ï¼šè¡Œé¦–æˆ–ç©ºæ ¼åçš„ /
const slashMatch = textBefore.match(/(?:^|\s)(\/[\w\u4e00-\u9fa5]*)$/);
```

**UI è§„æ ¼**ï¼š
- å®½åº¦ï¼š280px
- æœ€å¤§é«˜åº¦ï¼š400pxï¼ˆè¶…å‡ºæ»šåŠ¨ï¼‰
- åœ†è§’ï¼š8px
- é˜´å½±ï¼š`0 4px 16px rgba(0, 0, 0, 0.12)`
- å•é¡¹é«˜åº¦ï¼š56px

**ä½ç½®è®¡ç®—**ï¼š
```typescript
// å…‰æ ‡ä¸‹æ–¹ï¼Œé—´è· 4px
let top = cursorCoords.bottom + 4 + window.scrollY;
let left = cursorCoords.left;

// ä¸‹æ–¹ç©ºé—´ä¸è¶³æ—¶ï¼Œæ˜¾ç¤ºåœ¨ä¸Šæ–¹
if (coords.bottom + menuHeight > viewportHeight) {
  top = coords.top - menuHeight - 4 + window.scrollY;
}
```

**é”®ç›˜å¯¼èˆª**ï¼š
- `â†‘` - ä¸Šä¸€é¡¹
- `â†“` - ä¸‹ä¸€é¡¹
- `Enter` - æ‰§è¡Œå‘½ä»¤
- `Esc` - å…³é—­èœå•

**æœç´¢è¿‡æ»¤**ï¼š
```typescript
const filteredCommands = commands.filter((cmd) => {
  const query = searchQuery.toLowerCase();
  return (
    cmd.title.toLowerCase().includes(query) ||
    cmd.description.toLowerCase().includes(query) ||
    cmd.keywords.some((kw) => kw.toLowerCase().includes(query))
  );
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è¾“å…¥ `/` è‡ªåŠ¨è§¦å‘
- [ ] å…‰æ ‡ä¸‹æ–¹æ˜¾ç¤º
- [ ] ä¸Šä¸‹é”®åˆ‡æ¢
- [ ] Enter æ‰§è¡Œ
- [ ] Esc å…³é—­
- [ ] æœç´¢å®æ—¶è¿‡æ»¤
- [ ] é€‰ä¸­é¡¹æ»šåŠ¨åˆ°å¯è§

---

#### TASK-SLASH-002ï¼šå‘½ä»¤å®šä¹‰
**æ–‡ä»¶**ï¼š`components/Editor/SlashMenu/commands.tsx`

**å‘½ä»¤æ•°æ®ç»“æ„**ï¼š
```typescript
interface SlashCommand {
  id: string;
  icon: React.ReactNode;
  title: string;
  description: string;
  keywords: string[];
  category: 'basic' | 'media' | 'embed' | 'advanced';
  action: (editor: Editor) => void;
}
```

**å‘½ä»¤åˆ—è¡¨ï¼ˆ22ä¸ªï¼‰**ï¼š

**åŸºç¡€å—ï¼ˆ8ä¸ªï¼‰**ï¼š
1. æ–‡æœ¬ - `text, paragraph, æ–‡æœ¬`
2. ä¸€çº§æ ‡é¢˜ - `h1, heading, æ ‡é¢˜`
3. äºŒçº§æ ‡é¢˜ - `h2, subtitle`
4. ä¸‰çº§æ ‡é¢˜ - `h3`
5. æ— åºåˆ—è¡¨ - `ul, bullet, åˆ—è¡¨`
6. æœ‰åºåˆ—è¡¨ - `ol, numbered`
7. ä»»åŠ¡åˆ—è¡¨ - `todo, task, å¾…åŠ`
8. å¼•ç”¨ - `quote, blockquote`

**åª’ä½“ï¼ˆ4ä¸ªï¼‰**ï¼š
9. ä»£ç å— - `code, codeblock`
10. è¡¨æ ¼ - `table`
11. å›¾ç‰‡ - `image, img, å›¾ç‰‡`
12. è§†é¢‘ - `video`

**åµŒå…¥ï¼ˆ4ä¸ªï¼‰**ï¼š
13. Mermaid å›¾è¡¨ - `mermaid, diagram`
14. æ•°å­¦å…¬å¼ - `math, latex`
15. åˆ†æ  - `columns`
16. åˆ†å‰²çº¿ - `hr, divider`

**é«˜çº§ï¼ˆ6ä¸ªï¼‰**ï¼š
17. æŠ•ç¥¨ - `poll, vote`
18. æ—¥ç¨‹ - `calendar, event`
19. æ–‡ä»¶é™„ä»¶ - `file, attachment`
20. è¯„è®º - `comment`
21. æç¤ºæ¡† - `callout, alert`
22. æŠ˜å å— - `details, toggle`

**å®ç°ç¤ºä¾‹**ï¼š
```typescript
{
  id: 'heading1',
  icon: <Heading1 size={18} />,
  title: 'ä¸€çº§æ ‡é¢˜',
  description: 'å¤§æ ‡é¢˜ï¼Œç”¨äºä¸»è¦ç« èŠ‚',
  keywords: ['h1', 'heading', 'title', 'æ ‡é¢˜', 'ä¸€çº§'],
  category: 'basic',
  action: (editor) => {
    editor.chain().focus().toggleHeading({ level: 1 }).run();
  },
}
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] 22ä¸ªå‘½ä»¤å…¨éƒ¨å®šä¹‰
- [ ] å›¾æ ‡æ­£ç¡®æ˜¾ç¤º
- [ ] æœç´¢å…³é”®è¯å®Œæ•´
- [ ] æ‰§è¡Œé€»è¾‘æ­£ç¡®
- [ ] åˆ†ç±»æ ‡ç­¾å‡†ç¡®

---

#### TASK-SLASH-003ï¼šå‘½ä»¤æ‰§è¡Œä¸æ¸…ç†
**åŠŸèƒ½**ï¼šæ‰§è¡Œå‘½ä»¤ååˆ é™¤æ–œæ æ–‡æœ¬

**å®ç°é€»è¾‘**ï¼š
```typescript
const executeCommand = (command: SlashCommand) => {
  if (!editor || !slashRange) return;

  // 1. åˆ é™¤æ–œæ åŠæœç´¢æ–‡æœ¬
  editor.chain().focus().deleteRange(slashRange).run();

  // 2. æ‰§è¡Œå‘½ä»¤
  command.action(editor);

  // 3. å…³é—­èœå•
  setIsOpen(false);
  setSlashRange(null);
  setSearchQuery('');
};
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ–œæ æ–‡æœ¬è¢«åˆ é™¤
- [ ] å‘½ä»¤æ­£ç¡®æ‰§è¡Œ
- [ ] èœå•å…³é—­
- [ ] å…‰æ ‡ä½ç½®æ­£ç¡®

---

### ç¬¬ä¸‰é˜¶æ®µï¼šåŒºå—ç¼–è¾‘ç³»ç»Ÿï¼ˆ4ä¸ªä»»åŠ¡ï¼‰

#### TASK-BLOCK-001ï¼šåŒºå—èœå•è§¦å‘å™¨
**æ–‡ä»¶**ï¼š`components/Editor/BlockMenu/BlockMenuTrigger.tsx`

**æ˜¾ç¤ºè§„åˆ™**ï¼š
- é¼ æ ‡æ‚¬åœåœ¨æ®µè½å·¦ä¾§æ—¶æ˜¾ç¤º
- ä½ç½®ï¼šè¡Œé¦–å·¦ä¾§ -40px
- å›¾æ ‡ï¼šå…­ç‚¹æ‹–æ‹½æ‰‹æŸ„ `â‹®â‹®`
- å°ºå¯¸ï¼š24Ã—24px

**å®ç°é€»è¾‘**ï¼š
```typescript
// ç›‘å¬é¼ æ ‡æ‚¬åœ
editor.on('update', () => {
  const { $from } = editor.state.selection;
  const node = $from.parent;
  
  // è·å–èŠ‚ç‚¹çš„ DOM å…ƒç´ 
  const domNode = editor.view.nodeDOM($from.pos);
  
  // æ˜¾ç¤ºè§¦å‘å™¨
  setTriggerPosition({
    top: domNode.offsetTop,
    left: -40,
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‚¬åœæ˜¾ç¤º
- [ ] ä½ç½®ç²¾ç¡®
- [ ] ç¦»å¼€éšè—
- [ ] ä¸å¹²æ‰°ç¼–è¾‘

---

#### TASK-BLOCK-002ï¼šåŒºå—èœå•é¢æ¿
**æ–‡ä»¶**ï¼š`components/Editor/BlockMenu/BlockMenuPanel.tsx`

**èœå•é¡¹ï¼ˆ10ä¸ªï¼‰**ï¼š
1. æ‹–æ‹½ç§»åŠ¨
2. è½¬æ¢ä¸ºæ–‡æœ¬
3. è½¬æ¢ä¸ºæ ‡é¢˜
4. è½¬æ¢ä¸ºåˆ—è¡¨
5. è½¬æ¢ä¸ºå¼•ç”¨
6. å¤åˆ¶
7. åˆ é™¤
8. æ·»åŠ è¯„è®º
9. å¤åˆ¶é“¾æ¥
10. æŸ¥çœ‹å†å²

**UI å¸ƒå±€**ï¼š
- å®½åº¦ï¼š200px
- å•é¡¹é«˜åº¦ï¼š36px
- åœ†è§’ï¼š8px
- é˜´å½±ï¼š`0 4px 16px rgba(0, 0, 0, 0.12)`

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ç‚¹å‡»è§¦å‘å™¨å±•å¼€
- [ ] èœå•é¡¹åŠŸèƒ½æ­£å¸¸
- [ ] ç‚¹å‡»å¤–éƒ¨å…³é—­
- [ ] é”®ç›˜ Esc å…³é—­

---

#### TASK-BLOCK-003ï¼šæ‹–æ‹½ç§»åŠ¨åŠŸèƒ½
**ä½¿ç”¨åº“**ï¼š`@dnd-kit/core`

**æ‹–æ‹½æ•ˆæœ**ï¼š
1. æ‹–æ‹½æ—¶æ˜¾ç¤ºè“è‰²æ’å…¥çº¿
2. åŠé€æ˜é¢„è§ˆï¼ˆopacity: 0.5ï¼‰
3. é¼ æ ‡æ ·å¼ï¼š`cursor: grabbing`

**å®ç°ç¤ºä¾‹**ï¼š
```typescript
import { DndContext, useDraggable, useDroppable } from '@dnd-kit/core';

const { attributes, listeners, setNodeRef, transform } = useDraggable({
  id: blockId,
});

const style = {
  transform: CSS.Translate.toString(transform),
  opacity: isDragging ? 0.5 : 1,
};
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‹–æ‹½æ‰‹æŸ„å¯æ‹–åŠ¨
- [ ] æ’å…¥çº¿æ˜¾ç¤º
- [ ] æ”¾ç½®ä½ç½®å‡†ç¡®
- [ ] åŠ¨ç”»æµç•…

---

#### TASK-BLOCK-004ï¼šå¿«æ·é”®æ”¯æŒ
**é”®ç›˜æ“ä½œ**ï¼š
- `Tab` - å¢åŠ ç¼©è¿›
- `Shift + Tab` - å‡å°‘ç¼©è¿›
- `Alt + Shift + â†‘` - ä¸Šç§»å½“å‰å—
- `Alt + Shift + â†“` - ä¸‹ç§»å½“å‰å—
- `Cmd/Ctrl + D` - å¤åˆ¶å½“å‰å—
- `Cmd/Ctrl + Shift + K` - åˆ é™¤å½“å‰å—

**å®ç°ç¤ºä¾‹**ï¼š
```typescript
editor.on('keydown', ({ event }) => {
  if (event.key === 'Tab') {
    event.preventDefault();
    if (event.shiftKey) {
      editor.chain().focus().liftListItem('listItem').run();
    } else {
      editor.chain().focus().sinkListItem('listItem').run();
    }
  }
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰å¿«æ·é”®å“åº”
- [ ] ä¸å†²çªåŸç”Ÿè¡Œä¸º
- [ ] Mac/Win å…¼å®¹

---

### ç¬¬å››é˜¶æ®µï¼šMarkdown å®æ—¶è½¬æ¢ï¼ˆ1ä¸ªä»»åŠ¡ï¼‰

#### TASK-MARKDOWN-001ï¼šMarkdown å¿«æ·è¯­æ³•
**è½¬æ¢è§„åˆ™**ï¼š

| è¾“å…¥ | è½¬æ¢ç»“æœ | è§¦å‘ |
|------|---------|------|
| `# ` | ä¸€çº§æ ‡é¢˜ | ç©ºæ ¼ |
| `## ` | äºŒçº§æ ‡é¢˜ | ç©ºæ ¼ |
| `### ` | ä¸‰çº§æ ‡é¢˜ | ç©ºæ ¼ |
| `- ` æˆ– `* ` | æ— åºåˆ—è¡¨ | ç©ºæ ¼ |
| `1. ` | æœ‰åºåˆ—è¡¨ | ç©ºæ ¼ |
| `[] ` | ä»»åŠ¡åˆ—è¡¨ | ç©ºæ ¼ |
| `> ` | å¼•ç”¨ | ç©ºæ ¼ |
| ``` | ä»£ç å— | å›è½¦ |
| `---` | åˆ†å‰²çº¿ | å›è½¦ |

**å®ç°æ–¹å¼**ï¼šTiptap å†…ç½® `StarterKit` å·²æ”¯æŒï¼Œéœ€å¯ç”¨ï¼š

```typescript
StarterKit.configure({
  heading: {
    levels: [1, 2, 3],
  },
  bulletList: true,
  orderedList: true,
  blockquote: true,
  horizontalRule: true,
  codeBlock: true,
})
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰è§„åˆ™ç”Ÿæ•ˆ
- [ ] è½¬æ¢å³æ—¶
- [ ] æ”¯æŒæ’¤é”€
- [ ] ä¸è¯¯è§¦å‘

---

### ç¬¬äº”é˜¶æ®µï¼šWebUI è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆ6ä¸ªæµ‹è¯•å¥—ä»¶ï¼‰

#### TEST-SUITE-001ï¼šæµ®åŠ¨å·¥å…·æ æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/e2e/floating-toolbar.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
import { test, expect } from '@playwright/test';

test.describe('æµ®åŠ¨å·¥å…·æ ', () => {
  test('é€‰ä¸­æ–‡æœ¬åæ˜¾ç¤ºå·¥å…·æ ', async ({ page }) => {
    await page.goto('/editor');
    
    // è¾“å…¥æ–‡æœ¬
    await page.locator('.ProseMirror').fill('Hello World');
    
    // é€‰ä¸­æ–‡æœ¬
    await page.locator('.ProseMirror').dblclick();
    
    // ç­‰å¾…å·¥å…·æ å‡ºç°ï¼ˆå»¶è¿Ÿ 150msï¼‰
    await page.waitForTimeout(200);
    
    // éªŒè¯å·¥å…·æ å¯è§
    const toolbar = page.locator('.floating-toolbar');
    await expect(toolbar).toBeVisible();
  });

  test('å·¥å…·æ ä½ç½®åœ¨é€‰ä¸­æ–‡æœ¬ä¸Šæ–¹', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Test Text');
    await page.locator('.ProseMirror').dblclick();
    await page.waitForTimeout(200);
    
    const toolbar = page.locator('.floating-toolbar');
    const selection = await page.evaluate(() => {
      const range = window.getSelection()!.getRangeAt(0);
      return range.getBoundingClientRect().top;
    });
    
    const toolbarBox = await toolbar.boundingBox();
    expect(toolbarBox!.y).toBeLessThan(selection);
  });

  test('ç²—ä½“æŒ‰é’®åŠŸèƒ½', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Bold Test');
    await page.locator('.ProseMirror').dblclick();
    await page.waitForTimeout(200);
    
    // ç‚¹å‡»ç²—ä½“æŒ‰é’®
    await page.locator('button[aria-label="ç²—ä½“"]').click();
    
    // éªŒè¯æ–‡æœ¬å˜ç²—
    const boldText = page.locator('.ProseMirror strong');
    await expect(boldText).toHaveText('Bold Test');
  });

  test('é¢œè‰²é€‰æ‹©å™¨', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Color Test');
    await page.locator('.ProseMirror').dblclick();
    await page.waitForTimeout(200);
    
    // æ‰“å¼€é¢œè‰²é€‰æ‹©å™¨
    await page.locator('button[aria-label="é¢œè‰²"]').click();
    
    // ç‚¹å‡»çº¢è‰²
    await page.locator('button[title="çº¢è‰²"]').click();
    
    // éªŒè¯é¢œè‰²åº”ç”¨
    const coloredText = page.locator('.ProseMirror span[style*="color"]');
    await expect(coloredText).toHaveCSS('color', 'rgb(245, 74, 69)');
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰ç”¨ä¾‹é€šè¿‡
- [ ] è¦†ç›–ç‡ > 80%
- [ ] æ— è¯¯æŠ¥
- [ ] æˆªå›¾å¯¹æ¯”

---

#### TEST-SUITE-002ï¼šæ–œæ å‘½ä»¤æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/e2e/slash-menu.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
test.describe('æ–œæ å‘½ä»¤', () => {
  test('è¾“å…¥ / æ˜¾ç¤ºèœå•', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('/');
    
    const menu = page.locator('.slash-menu');
    await expect(menu).toBeVisible();
  });

  test('æœç´¢è¿‡æ»¤å‘½ä»¤', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('/æ ‡é¢˜');
    
    // éªŒè¯åªæ˜¾ç¤ºæ ‡é¢˜ç›¸å…³å‘½ä»¤
    const items = page.locator('.slash-menu button');
    const count = await items.count();
    expect(count).toBeLessThanOrEqual(4); // h1, h2, h3 + æ–‡æœ¬
  });

  test('é”®ç›˜å¯¼èˆªé€‰æ‹©å‘½ä»¤', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('/');
    
    // æŒ‰ä¸‹ç®­å¤´é”®
    await page.keyboard.press('ArrowDown');
    await page.keyboard.press('ArrowDown');
    
    // éªŒè¯ç¬¬ä¸‰é¡¹è¢«é€‰ä¸­
    const selectedItem = page.locator('.slash-menu button').nth(2);
    await expect(selectedItem).toHaveCSS('background-color', 'rgb(242, 243, 245)');
    
    // æŒ‰ Enter æ‰§è¡Œ
    await page.keyboard.press('Enter');
    
    // éªŒè¯å‘½ä»¤æ‰§è¡Œ
    // ... æ ¹æ®å…·ä½“å‘½ä»¤éªŒè¯
  });

  test('Esc å…³é—­èœå•', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('/');
    
    await expect(page.locator('.slash-menu')).toBeVisible();
    
    await page.keyboard.press('Escape');
    
    await expect(page.locator('.slash-menu')).not.toBeVisible();
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è§¦å‘æœºåˆ¶æ­£ç¡®
- [ ] æœç´¢è¿‡æ»¤å‡†ç¡®
- [ ] é”®ç›˜å¯¼èˆªæµç•…
- [ ] å‘½ä»¤æ‰§è¡Œæ­£ç¡®

---

#### TEST-SUITE-003ï¼šåŒºå—ç¼–è¾‘æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/e2e/block-menu.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
test.describe('åŒºå—èœå•', () => {
  test('æ‚¬åœæ˜¾ç¤ºè§¦å‘å™¨', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Test paragraph');
    
    // æ‚¬åœåœ¨æ®µè½å·¦ä¾§
    await page.locator('.ProseMirror p').hover({ position: { x: 0, y: 10 } });
    
    // éªŒè¯è§¦å‘å™¨æ˜¾ç¤º
    const trigger = page.locator('.block-menu-trigger');
    await expect(trigger).toBeVisible();
  });

  test('æ‹–æ‹½ç§»åŠ¨å—', async ({ page }) => {
    await page.goto('/editor');
    
    // åˆ›å»ºä¸¤ä¸ªæ®µè½
    await page.locator('.ProseMirror').fill('First\nSecond');
    
    // æ‹–æ‹½ç¬¬ä¸€ä¸ªæ®µè½
    const firstBlock = page.locator('.ProseMirror p').first();
    await firstBlock.hover({ position: { x: -20, y: 10 } });
    
    const trigger = page.locator('.block-menu-trigger').first();
    await trigger.dragTo(page.locator('.ProseMirror p').last());
    
    // éªŒè¯é¡ºåºæ”¹å˜
    const paragraphs = page.locator('.ProseMirror p');
    await expect(paragraphs.first()).toHaveText('Second');
    await expect(paragraphs.last()).toHaveText('First');
  });

  test('Tab é”®å¢åŠ ç¼©è¿›', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('- Item 1\n- Item 2');
    
    // å…‰æ ‡åœ¨ç¬¬äºŒé¡¹
    await page.keyboard.press('ArrowUp');
    await page.keyboard.press('Tab');
    
    // éªŒè¯ç¼©è¿›
    const nestedItem = page.locator('.ProseMirror ul ul li');
    await expect(nestedItem).toHaveText('Item 2');
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è§¦å‘å™¨æ˜¾ç¤ºæ­£ç¡®
- [ ] æ‹–æ‹½åŠŸèƒ½æ­£å¸¸
- [ ] å¿«æ·é”®å“åº”
- [ ] ç¼©è¿›å±‚çº§å‡†ç¡®

---

#### TEST-SUITE-004ï¼šMarkdown è½¬æ¢æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/e2e/markdown.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
test.describe('Markdown å¿«æ·è¯­æ³•', () => {
  test('# è½¬æ¢ä¸ºä¸€çº§æ ‡é¢˜', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('# Heading 1 ');
    
    const h1 = page.locator('.ProseMirror h1');
    await expect(h1).toHaveText('Heading 1');
  });

  test('- è½¬æ¢ä¸ºæ— åºåˆ—è¡¨', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('- List item ');
    
    const li = page.locator('.ProseMirror ul li');
    await expect(li).toHaveText('List item');
  });

  test('> è½¬æ¢ä¸ºå¼•ç”¨', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('> Quote ');
    
    const blockquote = page.locator('.ProseMirror blockquote');
    await expect(blockquote).toHaveText('Quote');
  });

  test('``` è½¬æ¢ä¸ºä»£ç å—', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('```');
    await page.keyboard.press('Enter');
    
    const codeBlock = page.locator('.ProseMirror pre code');
    await expect(codeBlock).toBeVisible();
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰è½¬æ¢è§„åˆ™ç”Ÿæ•ˆ
- [ ] è§¦å‘æ—¶æœºå‡†ç¡®
- [ ] æ”¯æŒæ’¤é”€
- [ ] ä¸è¯¯è§¦å‘

---

#### TEST-SUITE-005ï¼šå¿«æ·é”®æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/e2e/keyboard-shortcuts.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
test.describe('é”®ç›˜å¿«æ·é”®', () => {
  test('Cmd/Ctrl + B ç²—ä½“', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Bold text');
    await page.keyboard.press('Control+A'); // å…¨é€‰
    
    const isMac = process.platform === 'darwin';
    await page.keyboard.press(isMac ? 'Meta+B' : 'Control+B');
    
    const bold = page.locator('.ProseMirror strong');
    await expect(bold).toHaveText('Bold text');
  });

  test('Cmd/Ctrl + K æ’å…¥é“¾æ¥', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Link text');
    await page.keyboard.press('Control+A');
    
    const isMac = process.platform === 'darwin';
    await page.keyboard.press(isMac ? 'Meta+K' : 'Control+K');
    
    // éªŒè¯é“¾æ¥ç¼–è¾‘å™¨æ‰“å¼€
    const linkEditor = page.locator('.link-editor');
    await expect(linkEditor).toBeVisible();
  });

  test('Alt + Shift + â†‘ ä¸Šç§»å—', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('First\nSecond');
    
    // å…‰æ ‡åœ¨ç¬¬äºŒè¡Œ
    await page.keyboard.press('ArrowDown');
    await page.keyboard.press('Alt+Shift+ArrowUp');
    
    // éªŒè¯é¡ºåº
    const paragraphs = page.locator('.ProseMirror p');
    await expect(paragraphs.first()).toHaveText('Second');
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰å¿«æ·é”®æ­£å¸¸
- [ ] Mac/Win å…¼å®¹
- [ ] æ— å†²çª
- [ ] æç¤ºæ˜¾ç¤º

---

#### TEST-SUITE-006ï¼šè§†è§‰å›å½’æµ‹è¯•
**æ–‡ä»¶**ï¼š`tests/visual/editor.spec.ts`

**æµ‹è¯•ç”¨ä¾‹**ï¼š
```typescript
import { test, expect } from '@playwright/test';

test.describe('è§†è§‰å›å½’æµ‹è¯•', () => {
  test('ç¼–è¾‘å™¨é»˜è®¤çŠ¶æ€', async ({ page }) => {
    await page.goto('/editor');
    await expect(page).toHaveScreenshot('editor-default.png');
  });

  test('æµ®åŠ¨å·¥å…·æ æ˜¾ç¤ºçŠ¶æ€', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Test');
    await page.locator('.ProseMirror').dblclick();
    await page.waitForTimeout(200);
    
    await expect(page).toHaveScreenshot('floating-toolbar.png');
  });

  test('æ–œæ èœå•æ˜¾ç¤ºçŠ¶æ€', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').click();
    await page.keyboard.type('/');
    
    await expect(page).toHaveScreenshot('slash-menu.png');
  });

  test('é¢œè‰²é€‰æ‹©å™¨å±•å¼€', async ({ page }) => {
    await page.goto('/editor');
    await page.locator('.ProseMirror').fill('Test');
    await page.locator('.ProseMirror').dblclick();
    await page.waitForTimeout(200);
    await page.locator('button[aria-label="é¢œè‰²"]').click();
    
    await expect(page).toHaveScreenshot('color-picker.png');
  });
});
```

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æ‰€æœ‰æˆªå›¾ä¸€è‡´
- [ ] å·®å¼‚ç‡ < 0.1%
- [ ] å“åº”å¼é€‚é…
- [ ] ä¸»é¢˜åˆ‡æ¢æ­£ç¡®

---

## ğŸ“Š è¿›åº¦è·Ÿè¸ªè¡¨

### æµ®åŠ¨å·¥å…·æ ç³»ç»Ÿ
- [ ] TASK-TOOLBAR-001: æµ®åŠ¨å·¥å…·æ æ ¸å¿ƒå®¹å™¨
- [ ] TASK-TOOLBAR-002: å·¥å…·æ æŒ‰é’®ç»„ä»¶
- [ ] TASK-TOOLBAR-003: æ–‡å­—æ ¼å¼å·¥å…·ç»„
- [ ] TASK-TOOLBAR-004: é¢œè‰²é€‰æ‹©å™¨
- [ ] TASK-TOOLBAR-005: é“¾æ¥ç¼–è¾‘å™¨

### æ–œæ å‘½ä»¤èœå•
- [ ] TASK-SLASH-001: æ–œæ èœå•å®¹å™¨
- [ ] TASK-SLASH-002: å‘½ä»¤å®šä¹‰
- [ ] TASK-SLASH-003: å‘½ä»¤æ‰§è¡Œä¸æ¸…ç†

### åŒºå—ç¼–è¾‘ç³»ç»Ÿ
- [ ] TASK-BLOCK-001: åŒºå—èœå•è§¦å‘å™¨
- [ ] TASK-BLOCK-002: åŒºå—èœå•é¢æ¿
- [ ] TASK-BLOCK-003: æ‹–æ‹½ç§»åŠ¨åŠŸèƒ½
- [ ] TASK-BLOCK-004: å¿«æ·é”®æ”¯æŒ

### Markdown è½¬æ¢
- [ ] TASK-MARKDOWN-001: Markdown å¿«æ·è¯­æ³•

### è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] TEST-SUITE-001: æµ®åŠ¨å·¥å…·æ æµ‹è¯•
- [ ] TEST-SUITE-002: æ–œæ å‘½ä»¤æµ‹è¯•
- [ ] TEST-SUITE-003: åŒºå—ç¼–è¾‘æµ‹è¯•
- [ ] TEST-SUITE-004: Markdown è½¬æ¢æµ‹è¯•
- [ ] TEST-SUITE-005: å¿«æ·é”®æµ‹è¯•
- [ ] TEST-SUITE-006: è§†è§‰å›å½’æµ‹è¯•

---

## ğŸ¯ æœ€ç»ˆéªŒæ”¶æ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æµ®åŠ¨å·¥å…·æ æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] æ–œæ å‘½ä»¤ 22 ä¸ªå…¨éƒ¨å¯ç”¨
- [ ] åŒºå—æ‹–æ‹½ç§»åŠ¨æµç•…
- [ ] Markdown è½¬æ¢å‡†ç¡®
- [ ] å¿«æ·é”®æ— å†²çª

### æ€§èƒ½æŒ‡æ ‡
- [ ] å·¥å…·æ æ˜¾ç¤ºå»¶è¿Ÿ < 150ms
- [ ] èœå•æ‰“å¼€åŠ¨ç”» < 150ms
- [ ] æ‹–æ‹½å¸§ç‡ > 60fps
- [ ] è¾“å…¥å»¶è¿Ÿ < 50ms

### UI/UX ä¸€è‡´æ€§
- [ ] ä¸è®¾è®¡æ–‡æ¡£åƒç´ çº§ä¸€è‡´
- [ ] åŠ¨ç”»æ›²çº¿ç¬¦åˆè§„èŒƒ
- [ ] é¢œè‰²å€¼ç²¾ç¡®åŒ¹é…
- [ ] é—´è·å°ºå¯¸å‡†ç¡®

### å…¼å®¹æ€§
- [ ] Chrome/Edge æœ€æ–°ç‰ˆ
- [ ] Safari æœ€æ–°ç‰ˆ
- [ ] Firefox æœ€æ–°ç‰ˆ
- [ ] Mac/Windows åŒå¹³å°

### æµ‹è¯•è¦†ç›–ç‡
- [ ] å•å…ƒæµ‹è¯• > 80%
- [ ] E2E æµ‹è¯• > 60%
- [ ] è§†è§‰å›å½’æµ‹è¯• 100%

---

## ğŸ“ å®æ–½å»ºè®®

### å¼€å‘é¡ºåº
1. **ç¬¬ä¸€å‘¨**ï¼šæµ®åŠ¨å·¥å…·æ ç³»ç»Ÿï¼ˆ5ä¸ªä»»åŠ¡ï¼‰
2. **ç¬¬äºŒå‘¨**ï¼šæ–œæ å‘½ä»¤èœå•ï¼ˆ3ä¸ªä»»åŠ¡ï¼‰
3. **ç¬¬ä¸‰å‘¨**ï¼šåŒºå—ç¼–è¾‘ç³»ç»Ÿï¼ˆ4ä¸ªä»»åŠ¡ï¼‰
4. **ç¬¬å››å‘¨**ï¼šMarkdown è½¬æ¢ + æµ‹è¯•ï¼ˆ7ä¸ªä»»åŠ¡ï¼‰

### ä»£ç è§„èŒƒ
- æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ TypeScript
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- CSS-in-JS ä½¿ç”¨ Framer Motion
- å‘½åéµå¾ª camelCase

### æäº¤è§„èŒƒ
```
feat(toolbar): å®ç°æµ®åŠ¨å·¥å…·æ æ ¸å¿ƒå®¹å™¨
fix(slash): ä¿®å¤èœå•ä½ç½®è®¡ç®—
test(block): æ·»åŠ æ‹–æ‹½åŠŸèƒ½æµ‹è¯•
docs(readme): æ›´æ–°ä½¿ç”¨æ–‡æ¡£
```

---

**æ–‡æ¡£ç»“æŸ**
